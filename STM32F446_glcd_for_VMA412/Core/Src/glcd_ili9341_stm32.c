/*
 * Routines for using the VMA412 touchscreen Graphic LCD
 *
 * Note: pin assignment for STM32F446 Nucleo Board
 *
 * Note: the 8-bit 8080 CPU interface is used.

Software License Agreement (BSD License)

Version: 0.1
Date: 2020/03/03

Copyright (c) 2020 Jesse op den Brouw.  All rights reserved.

Portions based on :
 Copyright (c) 2012 Adafruit Industries.  All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

- Redistributions of source code must retain the above copyright notice,
  this list of conditions and the following disclaimer.
- Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.

 */

#if !defined(STM32F446xx) && !defined(STM32F411xx)
#warning !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
#warning ! Only tested with STM32F446 Nucleo Board !
#warning ! Only tested with STM32F411 Nucleo Board !
#warning !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
#endif

#include <stdlib.h>
#include "main.h"
#include "glcd_ili9341_stm32.h"

/* How to use the CS pin */
typedef enum {LCD_CS_TO_HIGH, LCD_CS_KEEP_LOW, LCD_CS_TOGGLE} glcd_cs_t;
typedef enum {LCD_KEEP_DATA_OUTPUT, LCD_MAKE_DATA_INPUT} glcd_dir_t;

/* Special to signal a delay in ms */
#define GLCD_DELAY 0x0100

/* Port address and bit number for pins */
typedef struct {
	GPIO_TypeDef *pGPIO;
	uint32_t pin;
} PortBit;

/* GPIO A, B, C USED */
static const uint32_t GLCD_GPIO_USED = 7;

/* The command pins for STM32F446 Nucleo */
static const PortBit GLCD_RST = {GPIOC, 1};
static const PortBit GLCD_CS = {GPIOB, 0};
static const PortBit GLCD_RS = {GPIOA, 4};
static const PortBit GLCD_WR = {GPIOA, 1};
static const PortBit GLCD_RD = {GPIOA, 0};

/* The data pins for STM32F446 Nucleo */
static const PortBit GLCD_D[] = {
	{GPIOA, 9}, /* databit 0 */
	{GPIOC, 7},
	{GPIOA, 10},
	{GPIOB, 3},
	{GPIOB, 5},
	{GPIOB, 4},
	{GPIOB, 10},
	{GPIOA, 8}  /* databit 7 */
};

/* Internal data array for one row */
/* Since the STM32Fs have more RAM than ATmegas, we use an internal
 * buffer to create one row of pixel data at a time
 */
static uint16_t glcd_data[3*320];

/* Standard 5x7 font from AdaFruit */
static const uint8_t glcd_font[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x3E, 0x5B, 0x4F, 0x5B, 0x3E, 0x3E, 0x6B,
    0x4F, 0x6B, 0x3E, 0x1C, 0x3E, 0x7C, 0x3E, 0x1C, 0x18, 0x3C, 0x7E, 0x3C,
    0x18, 0x1C, 0x57, 0x7D, 0x57, 0x1C, 0x1C, 0x5E, 0x7F, 0x5E, 0x1C, 0x00,
    0x18, 0x3C, 0x18, 0x00, 0xFF, 0xE7, 0xC3, 0xE7, 0xFF, 0x00, 0x18, 0x24,
    0x18, 0x00, 0xFF, 0xE7, 0xDB, 0xE7, 0xFF, 0x30, 0x48, 0x3A, 0x06, 0x0E,
    0x26, 0x29, 0x79, 0x29, 0x26, 0x40, 0x7F, 0x05, 0x05, 0x07, 0x40, 0x7F,
    0x05, 0x25, 0x3F, 0x5A, 0x3C, 0xE7, 0x3C, 0x5A, 0x7F, 0x3E, 0x1C, 0x1C,
    0x08, 0x08, 0x1C, 0x1C, 0x3E, 0x7F, 0x14, 0x22, 0x7F, 0x22, 0x14, 0x5F,
    0x5F, 0x00, 0x5F, 0x5F, 0x06, 0x09, 0x7F, 0x01, 0x7F, 0x00, 0x66, 0x89,
    0x95, 0x6A, 0x60, 0x60, 0x60, 0x60, 0x60, 0x94, 0xA2, 0xFF, 0xA2, 0x94,
    0x08, 0x04, 0x7E, 0x04, 0x08, 0x10, 0x20, 0x7E, 0x20, 0x10, 0x08, 0x08,
    0x2A, 0x1C, 0x08, 0x08, 0x1C, 0x2A, 0x08, 0x08, 0x1E, 0x10, 0x10, 0x10,
    0x10, 0x0C, 0x1E, 0x0C, 0x1E, 0x0C, 0x30, 0x38, 0x3E, 0x38, 0x30, 0x06,
    0x0E, 0x3E, 0x0E, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x5F,
    0x00, 0x00, 0x00, 0x07, 0x00, 0x07, 0x00, 0x14, 0x7F, 0x14, 0x7F, 0x14,
    0x24, 0x2A, 0x7F, 0x2A, 0x12, 0x23, 0x13, 0x08, 0x64, 0x62, 0x36, 0x49,
    0x56, 0x20, 0x50, 0x00, 0x08, 0x07, 0x03, 0x00, 0x00, 0x1C, 0x22, 0x41,
    0x00, 0x00, 0x41, 0x22, 0x1C, 0x00, 0x2A, 0x1C, 0x7F, 0x1C, 0x2A, 0x08,
    0x08, 0x3E, 0x08, 0x08, 0x00, 0x80, 0x70, 0x30, 0x00, 0x08, 0x08, 0x08,
    0x08, 0x08, 0x00, 0x00, 0x60, 0x60, 0x00, 0x20, 0x10, 0x08, 0x04, 0x02,
    0x3E, 0x51, 0x49, 0x45, 0x3E, 0x00, 0x42, 0x7F, 0x40, 0x00, 0x72, 0x49,
    0x49, 0x49, 0x46, 0x21, 0x41, 0x49, 0x4D, 0x33, 0x18, 0x14, 0x12, 0x7F,
    0x10, 0x27, 0x45, 0x45, 0x45, 0x39, 0x3C, 0x4A, 0x49, 0x49, 0x31, 0x41,
    0x21, 0x11, 0x09, 0x07, 0x36, 0x49, 0x49, 0x49, 0x36, 0x46, 0x49, 0x49,
    0x29, 0x1E, 0x00, 0x00, 0x14, 0x00, 0x00, 0x00, 0x40, 0x34, 0x00, 0x00,
    0x00, 0x08, 0x14, 0x22, 0x41, 0x14, 0x14, 0x14, 0x14, 0x14, 0x00, 0x41,
    0x22, 0x14, 0x08, 0x02, 0x01, 0x59, 0x09, 0x06, 0x3E, 0x41, 0x5D, 0x59,
    0x4E, 0x7C, 0x12, 0x11, 0x12, 0x7C, 0x7F, 0x49, 0x49, 0x49, 0x36, 0x3E,
    0x41, 0x41, 0x41, 0x22, 0x7F, 0x41, 0x41, 0x41, 0x3E, 0x7F, 0x49, 0x49,
    0x49, 0x41, 0x7F, 0x09, 0x09, 0x09, 0x01, 0x3E, 0x41, 0x41, 0x51, 0x73,
    0x7F, 0x08, 0x08, 0x08, 0x7F, 0x00, 0x41, 0x7F, 0x41, 0x00, 0x20, 0x40,
    0x41, 0x3F, 0x01, 0x7F, 0x08, 0x14, 0x22, 0x41, 0x7F, 0x40, 0x40, 0x40,
    0x40, 0x7F, 0x02, 0x1C, 0x02, 0x7F, 0x7F, 0x04, 0x08, 0x10, 0x7F, 0x3E,
    0x41, 0x41, 0x41, 0x3E, 0x7F, 0x09, 0x09, 0x09, 0x06, 0x3E, 0x41, 0x51,
    0x21, 0x5E, 0x7F, 0x09, 0x19, 0x29, 0x46, 0x26, 0x49, 0x49, 0x49, 0x32,
    0x03, 0x01, 0x7F, 0x01, 0x03, 0x3F, 0x40, 0x40, 0x40, 0x3F, 0x1F, 0x20,
    0x40, 0x20, 0x1F, 0x3F, 0x40, 0x38, 0x40, 0x3F, 0x63, 0x14, 0x08, 0x14,
    0x63, 0x03, 0x04, 0x78, 0x04, 0x03, 0x61, 0x59, 0x49, 0x4D, 0x43, 0x00,
    0x7F, 0x41, 0x41, 0x41, 0x02, 0x04, 0x08, 0x10, 0x20, 0x00, 0x41, 0x41,
    0x41, 0x7F, 0x04, 0x02, 0x01, 0x02, 0x04, 0x40, 0x40, 0x40, 0x40, 0x40,
    0x00, 0x03, 0x07, 0x08, 0x00, 0x20, 0x54, 0x54, 0x78, 0x40, 0x7F, 0x28,
    0x44, 0x44, 0x38, 0x38, 0x44, 0x44, 0x44, 0x28, 0x38, 0x44, 0x44, 0x28,
    0x7F, 0x38, 0x54, 0x54, 0x54, 0x18, 0x00, 0x08, 0x7E, 0x09, 0x02, 0x18,
    0xA4, 0xA4, 0x9C, 0x78, 0x7F, 0x08, 0x04, 0x04, 0x78, 0x00, 0x44, 0x7D,
    0x40, 0x00, 0x20, 0x40, 0x40, 0x3D, 0x00, 0x7F, 0x10, 0x28, 0x44, 0x00,
    0x00, 0x41, 0x7F, 0x40, 0x00, 0x7C, 0x04, 0x78, 0x04, 0x78, 0x7C, 0x08,
    0x04, 0x04, 0x78, 0x38, 0x44, 0x44, 0x44, 0x38, 0xFC, 0x18, 0x24, 0x24,
    0x18, 0x18, 0x24, 0x24, 0x18, 0xFC, 0x7C, 0x08, 0x04, 0x04, 0x08, 0x48,
    0x54, 0x54, 0x54, 0x24, 0x04, 0x04, 0x3F, 0x44, 0x24, 0x3C, 0x40, 0x40,
    0x20, 0x7C, 0x1C, 0x20, 0x40, 0x20, 0x1C, 0x3C, 0x40, 0x30, 0x40, 0x3C,
    0x44, 0x28, 0x10, 0x28, 0x44, 0x4C, 0x90, 0x90, 0x90, 0x7C, 0x44, 0x64,
    0x54, 0x4C, 0x44, 0x00, 0x08, 0x36, 0x41, 0x00, 0x00, 0x00, 0x77, 0x00,
    0x00, 0x00, 0x41, 0x36, 0x08, 0x00, 0x02, 0x01, 0x02, 0x04, 0x02, 0x3C,
    0x26, 0x23, 0x26, 0x3C, 0x1E, 0xA1, 0xA1, 0x61, 0x12, 0x3A, 0x40, 0x40,
    0x20, 0x7A, 0x38, 0x54, 0x54, 0x55, 0x59, 0x21, 0x55, 0x55, 0x79, 0x41,
    0x22, 0x54, 0x54, 0x78, 0x42, // a-umlaut
    0x21, 0x55, 0x54, 0x78, 0x40, 0x20, 0x54, 0x55, 0x79, 0x40, 0x0C, 0x1E,
    0x52, 0x72, 0x12, 0x39, 0x55, 0x55, 0x55, 0x59, 0x39, 0x54, 0x54, 0x54,
    0x59, 0x39, 0x55, 0x54, 0x54, 0x58, 0x00, 0x00, 0x45, 0x7C, 0x41, 0x00,
    0x02, 0x45, 0x7D, 0x42, 0x00, 0x01, 0x45, 0x7C, 0x40, 0x7D, 0x12, 0x11,
    0x12, 0x7D, // A-umlaut
    0xF0, 0x28, 0x25, 0x28, 0xF0, 0x7C, 0x54, 0x55, 0x45, 0x00, 0x20, 0x54,
    0x54, 0x7C, 0x54, 0x7C, 0x0A, 0x09, 0x7F, 0x49, 0x32, 0x49, 0x49, 0x49,
    0x32, 0x3A, 0x44, 0x44, 0x44, 0x3A, // o-umlaut
    0x32, 0x4A, 0x48, 0x48, 0x30, 0x3A, 0x41, 0x41, 0x21, 0x7A, 0x3A, 0x42,
    0x40, 0x20, 0x78, 0x00, 0x9D, 0xA0, 0xA0, 0x7D, 0x3D, 0x42, 0x42, 0x42,
    0x3D, // O-umlaut
    0x3D, 0x40, 0x40, 0x40, 0x3D, 0x3C, 0x24, 0xFF, 0x24, 0x24, 0x48, 0x7E,
    0x49, 0x43, 0x66, 0x2B, 0x2F, 0xFC, 0x2F, 0x2B, 0xFF, 0x09, 0x29, 0xF6,
    0x20, 0xC0, 0x88, 0x7E, 0x09, 0x03, 0x20, 0x54, 0x54, 0x79, 0x41, 0x00,
    0x00, 0x44, 0x7D, 0x41, 0x30, 0x48, 0x48, 0x4A, 0x32, 0x38, 0x40, 0x40,
    0x22, 0x7A, 0x00, 0x7A, 0x0A, 0x0A, 0x72, 0x7D, 0x0D, 0x19, 0x31, 0x7D,
    0x26, 0x29, 0x29, 0x2F, 0x28, 0x26, 0x29, 0x29, 0x29, 0x26, 0x30, 0x48,
    0x4D, 0x40, 0x20, 0x38, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08,
    0x38, 0x2F, 0x10, 0xC8, 0xAC, 0xBA, 0x2F, 0x10, 0x28, 0x34, 0xFA, 0x00,
    0x00, 0x7B, 0x00, 0x00, 0x08, 0x14, 0x2A, 0x14, 0x22, 0x22, 0x14, 0x2A,
    0x14, 0x08, 0x55, 0x00, 0x55, 0x00, 0x55, // #176 (25% block) missing in old
                                              // code
    0xAA, 0x55, 0xAA, 0x55, 0xAA,             // 50% block
    0xFF, 0x55, 0xFF, 0x55, 0xFF,             // 75% block
    0x00, 0x00, 0x00, 0xFF, 0x00, 0x10, 0x10, 0x10, 0xFF, 0x00, 0x14, 0x14,
    0x14, 0xFF, 0x00, 0x10, 0x10, 0xFF, 0x00, 0xFF, 0x10, 0x10, 0xF0, 0x10,
    0xF0, 0x14, 0x14, 0x14, 0xFC, 0x00, 0x14, 0x14, 0xF7, 0x00, 0xFF, 0x00,
    0x00, 0xFF, 0x00, 0xFF, 0x14, 0x14, 0xF4, 0x04, 0xFC, 0x14, 0x14, 0x17,
    0x10, 0x1F, 0x10, 0x10, 0x1F, 0x10, 0x1F, 0x14, 0x14, 0x14, 0x1F, 0x00,
    0x10, 0x10, 0x10, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x1F, 0x10, 0x10, 0x10,
    0x10, 0x1F, 0x10, 0x10, 0x10, 0x10, 0xF0, 0x10, 0x00, 0x00, 0x00, 0xFF,
    0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0xFF, 0x10, 0x00,
    0x00, 0x00, 0xFF, 0x14, 0x00, 0x00, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x1F,
    0x10, 0x17, 0x00, 0x00, 0xFC, 0x04, 0xF4, 0x14, 0x14, 0x17, 0x10, 0x17,
    0x14, 0x14, 0xF4, 0x04, 0xF4, 0x00, 0x00, 0xFF, 0x00, 0xF7, 0x14, 0x14,
    0x14, 0x14, 0x14, 0x14, 0x14, 0xF7, 0x00, 0xF7, 0x14, 0x14, 0x14, 0x17,
    0x14, 0x10, 0x10, 0x1F, 0x10, 0x1F, 0x14, 0x14, 0x14, 0xF4, 0x14, 0x10,
    0x10, 0xF0, 0x10, 0xF0, 0x00, 0x00, 0x1F, 0x10, 0x1F, 0x00, 0x00, 0x00,
    0x1F, 0x14, 0x00, 0x00, 0x00, 0xFC, 0x14, 0x00, 0x00, 0xF0, 0x10, 0xF0,
    0x10, 0x10, 0xFF, 0x10, 0xFF, 0x14, 0x14, 0x14, 0xFF, 0x14, 0x10, 0x10,
    0x10, 0x1F, 0x00, 0x00, 0x00, 0x00, 0xF0, 0x10, 0xFF, 0xFF, 0xFF, 0xFF,
    0xFF, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00,
    0x00, 0x00, 0xFF, 0xFF, 0x0F, 0x0F, 0x0F, 0x0F, 0x0F, 0x38, 0x44, 0x44,
    0x38, 0x44, 0xFC, 0x4A, 0x4A, 0x4A, 0x34, // sharp-s or beta
    0x7E, 0x02, 0x02, 0x06, 0x06, 0x02, 0x7E, 0x02, 0x7E, 0x02, 0x63, 0x55,
    0x49, 0x41, 0x63, 0x38, 0x44, 0x44, 0x3C, 0x04, 0x40, 0x7E, 0x20, 0x1E,
    0x20, 0x06, 0x02, 0x7E, 0x02, 0x02, 0x99, 0xA5, 0xE7, 0xA5, 0x99, 0x1C,
    0x2A, 0x49, 0x2A, 0x1C, 0x4C, 0x72, 0x01, 0x72, 0x4C, 0x30, 0x4A, 0x4D,
    0x4D, 0x30, 0x30, 0x48, 0x78, 0x48, 0x30, 0xBC, 0x62, 0x5A, 0x46, 0x3D,
    0x3E, 0x49, 0x49, 0x49, 0x00, 0x7E, 0x01, 0x01, 0x01, 0x7E, 0x2A, 0x2A,
    0x2A, 0x2A, 0x2A, 0x44, 0x44, 0x5F, 0x44, 0x44, 0x40, 0x51, 0x4A, 0x44,
    0x40, 0x40, 0x44, 0x4A, 0x51, 0x40, 0x00, 0x00, 0xFF, 0x01, 0x03, 0xE0,
    0x80, 0xFF, 0x00, 0x00, 0x08, 0x08, 0x6B, 0x6B, 0x08, 0x36, 0x12, 0x36,
    0x24, 0x36, 0x06, 0x0F, 0x09, 0x0F, 0x06, 0x00, 0x00, 0x18, 0x18, 0x00,
    0x00, 0x00, 0x10, 0x10, 0x00, 0x30, 0x40, 0xFF, 0x01, 0x01, 0x00, 0x1F,
    0x01, 0x01, 0x1E, 0x00, 0x19, 0x1D, 0x17, 0x12, 0x00, 0x3C, 0x3C, 0x3C,
    0x3C, 0x00, 0x00, 0x00, 0x00, 0x00 // #255 NBSP
};

static const uint16_t ILI9341_regValues_stm32[] = {  // from MCUFRIEND_kbv, adapted
	0x01, 0,            // software reset
	GLCD_DELAY, 150,  // 5ms if awake,  125ms if asleep.
	0xCB, 5, 0x39, 0x2C, 0x00, 0x34, 0x02,      //Power Control A [39 2C 00 34 02]
	0xCF, 3, 0x00, 0xC1, 0x30,  //Power Control B [00 81 30]
	0xE8, 3, 0x85, 0x00, 0x78,  //Driver Timing A [04 11 7A]
	0xEA, 2, 0x00, 0x00,        //Driver Timing B [66 00]
	0xED, 4, 0x64, 0x03, 0x12, 0x81,    //Power On Seq [55 01 23 01]
	0xF7, 1, 0x20,      //Pump Ratio [10]
	0xC0, 1, 0x23,      //Power Control 1 [26]
	0xC1, 1, 0x10,      //Power Control 2 [00]
	0xC5, 2, 0x3E, 0x28,        //VCOM 1 [31 3C]
	0xC7, 1, 0x86,      //VCOM 2 [C0]
	0x36, 1, 0xe8, //0x48,      //Memory Access, Row order [00]
	0xB1, 2, 0x00, 0x18,        //Frame Control [00 1B]
	0xB6, 3, 0x08, 0x82, 0x27,  //Display Function [0A 82 27 XX]
	0xF2, 1, 0x00,      //Enable 3G [02]
	0x26, 1, 0x01,      //Gamma Set [01]
	0xE0, 15, 0x0f, 0x31, 0x2b, 0x0c, 0x0e, 0x08, 0x4e, 0xf1, 0x37, 0x07, 0x10, 0x03, 0x0e, 0x09, 0x00,
	0xE1, 15, 0x00, 0x0e, 0x14, 0x03, 0x11, 0x07, 0x31, 0xC1, 0x48, 0x08, 0x0f, 0x0c, 0x31, 0x36, 0x0f,
	0x2B, 4, 0x00, 0x00, 0x00, 0xef, // x/y swapped, set up screen size
	0x2A, 4, 0x00, 0x00, 0x01, 0x3f, // x/y swapped, set up screen size
	//0x53, 1, 0x2c, //  backlight, dimming, brightness control on
	0x11, 0,            //Sleep Out
	GLCD_DELAY, 150,
	0x29, 0,            //Display On
	0x3A, 1, 0x66,      //Pixel Format [66], 18 bit colors
	0x00, 0,
};

/* Bitmap of the THUAS logo 320x96, inverted */
/* Created from: https://littlevgl.com/image-to-c-array */
#ifdef __GNUC__
/* Keep the compiler from complaining if not used */
static const __attribute__((used)) uint8_t glcd_hhs_map[] = {
#else
static const uint8_t glcd_hhs_map[] = {
#endif
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf8, 0x03, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0x00, 0x03, 0xf8, 0x3f, 0x87, 0xfc, 0x00, 0x1f, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xff, 0xfc, 0x03, 0xff, 0xff, 0xff, 0xc0, 0x00, 0x7f, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0x00, 0x03, 0xf8, 0x3f, 0x87, 0xfc, 0x00, 0x1f, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xff, 0xfc, 0x07, 0xff, 0xff, 0xff, 0x00, 0x00, 0x1f, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0x00, 0x03, 0xf8, 0x3f, 0x87, 0xfc, 0x00, 0x1f, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xff, 0xf8, 0x07, 0xff, 0xff, 0xfe, 0x00, 0x00, 0x07, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf0, 0x3f, 0xf8, 0x3f, 0x87, 0xfc, 0x1f, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xff, 0xf8, 0x07, 0xff, 0xff, 0xf8, 0x00, 0x00, 0x0f, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf8, 0x7f, 0xf8, 0x3f, 0x87, 0xfc, 0x3f, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xff, 0xf8, 0x0f, 0xff, 0xff, 0xf8, 0x00, 0x00, 0x0f, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf8, 0x7f, 0xf8, 0x3f, 0x87, 0xfc, 0x3f, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xff, 0xf0, 0x0f, 0xff, 0xff, 0xf0, 0x01, 0xf0, 0x1f, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x00, 0x00, 0x3f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf8, 0x7f, 0xf8, 0x3f, 0x87, 0xfc, 0x3f, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xff, 0xf0, 0x0e, 0xff, 0xff, 0xe0, 0x07, 0xfe, 0x3f, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf8, 0x7f, 0xf8, 0x00, 0x07, 0xfc, 0x00, 0x7f, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xff, 0xf0, 0x1e, 0x7f, 0xff, 0xe0, 0x0f, 0xff, 0xff, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf8, 0x7f, 0xf8, 0x00, 0x07, 0xfc, 0x00, 0x3f, 0xff, 0xfc, 0x03, 0xff, 0x80, 0x3f, 0xff, 0xe0, 0x1e, 0x7f, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf8, 0x7f, 0xf8, 0x00, 0x07, 0xfc, 0x00, 0x3f, 0xff, 0xfc, 0x03, 0xff, 0x80, 0x3f, 0xff, 0xe0, 0x1c, 0x3f, 0xff, 0xc0, 0x1f, 0xff, 0xff, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf8, 0x7f, 0xf8, 0x00, 0x07, 0xfc, 0x00, 0x7f, 0xff, 0xfc, 0x03, 0xff, 0x80, 0x3f, 0xff, 0xc0, 0x3c, 0x3f, 0xff, 0xc0, 0x3f, 0xff, 0xff, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf8, 0x7f, 0xf8, 0x3f, 0x07, 0xfc, 0x3f, 0xff, 0xff, 0xfc, 0x03, 0xff, 0x80, 0x3f, 0xff, 0xc0, 0x38, 0x3f, 0xff, 0xc0, 0x3f, 0xff, 0xff, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf8, 0x7f, 0xf8, 0x3f, 0x87, 0xfc, 0x3f, 0xff, 0xff, 0xfc, 0x03, 0xff, 0x80, 0x3f, 0xff, 0xc0, 0x78, 0x1f, 0xff, 0xc0, 0x3f, 0xff, 0xff, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf8, 0x7f, 0xf8, 0x3f, 0x87, 0xfc, 0x3f, 0xff, 0xff, 0xfc, 0x00, 0x00, 0x00, 0x3f, 0xff, 0x80, 0x78, 0x1f, 0xff, 0xc0, 0x3f, 0xff, 0xff, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf8, 0x7f, 0xf8, 0x3f, 0x87, 0xfc, 0x3f, 0xff, 0xff, 0xfc, 0x00, 0x00, 0x00, 0x3f, 0xff, 0x80, 0x70, 0x0f, 0xff, 0x80, 0x3f, 0xff, 0xff, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf8, 0x7f, 0xf8, 0x3f, 0x87, 0xfc, 0x1f, 0xff, 0xff, 0xfc, 0x00, 0x00, 0x00, 0x3f, 0xff, 0x00, 0xf0, 0x0f, 0xff, 0x80, 0x3c, 0x00, 0x01, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf8, 0x7f, 0xf8, 0x3f, 0x87, 0xfc, 0x00, 0x0f, 0xff, 0xfc, 0x00, 0x00, 0x00, 0x3f, 0xff, 0x00, 0xf0, 0x0f, 0xff, 0x80, 0x3c, 0x00, 0x01, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf8, 0x7f, 0xf8, 0x3f, 0x87, 0xfc, 0x00, 0x0f, 0xff, 0xfc, 0x00, 0x00, 0x00, 0x3f, 0xff, 0x00, 0xf8, 0x07, 0xff, 0x80, 0x3c, 0x00, 0x01, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xf8, 0x7f, 0xf8, 0x3f, 0x87, 0xfc, 0x00, 0x0f, 0xff, 0xfc, 0x00, 0x00, 0x00, 0x3f, 0xfe, 0x01, 0xf8, 0x07, 0xff, 0x80, 0x3c, 0x00, 0x01, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x00, 0x01, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x03, 0xff, 0x80, 0x3f, 0xfe, 0x01, 0xf8, 0x07, 0xff, 0x80, 0x3c, 0x00, 0x01, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xfc, 0x01, 0xf8, 0x03, 0xff, 0x80, 0x3e, 0x00, 0x01, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xc0, 0x03, 0xff, 0xc0, 0x3f, 0xfe, 0x01, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xc0, 0x01, 0xff, 0xc0, 0x3f, 0xfe, 0x01, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xf8, 0x03, 0x80, 0x01, 0xff, 0xc0, 0x1f, 0xfe, 0x01, 0xff, 0xc0, 0x3f, 0xfc, 0x03, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xf8, 0x07, 0x80, 0x01, 0xff, 0xc0, 0x1f, 0xfe, 0x01, 0xff, 0xc0, 0x1f, 0xf8, 0x03, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xf0, 0x07, 0x80, 0x00, 0xff, 0xc0, 0x0f, 0xfe, 0x01, 0xff, 0xc0, 0x1f, 0xf8, 0x03, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xf0, 0x07, 0x00, 0x00, 0xff, 0xe0, 0x0f, 0xfc, 0x01, 0xff, 0xe0, 0x0f, 0xf0, 0x07, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xf0, 0x0f, 0xff, 0x00, 0x7f, 0xe0, 0x03, 0xf8, 0x01, 0xff, 0xe0, 0x03, 0xc0, 0x07, 0xff, 0xe0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xe0, 0x0f, 0xff, 0x00, 0x7f, 0xf0, 0x00, 0x00, 0x01, 0xff, 0xe0, 0x00, 0x00, 0x0f, 0xff, 0xe0, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xe0, 0x0f, 0xff, 0x00, 0x7f, 0xf0, 0x00, 0x00, 0x03, 0xff, 0xf0, 0x00, 0x00, 0x1f, 0xff, 0xe0, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xc0, 0x1f, 0xff, 0x80, 0x3f, 0xf8, 0x00, 0x00, 0x07, 0xff, 0xf8, 0x00, 0x00, 0x1f, 0xff, 0xe0, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xc0, 0x1f, 0xff, 0x80, 0x3f, 0xfc, 0x00, 0x00, 0x1f, 0xff, 0xfc, 0x00, 0x00, 0x7f, 0xff, 0xe0, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x03, 0xff, 0xc0, 0x3f, 0xc0, 0x1f, 0xff, 0x80, 0x3f, 0xff, 0x00, 0x00, 0x3f, 0xff, 0xfe, 0x00, 0x00, 0xff, 0xff, 0xe0, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x07, 0xff, 0xc0, 0x7f, 0xc0, 0x3f, 0xff, 0xc0, 0x3f, 0xff, 0xc0, 0x01, 0xff, 0xff, 0xff, 0xc0, 0x07, 0xff, 0xff, 0xe0, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xcf, 0xdf, 0x9f, 0xbf, 0x3e, 0x7e, 0x7c, 0x07, 0xe0, 0xff, 0x83, 0xfb, 0xe0, 0x1f, 0x3f, 0x3f, 0xff, 0x83, 0xfc, 0x07, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xcf, 0x8f, 0x8f, 0x1f, 0x3e, 0x7e, 0x7c, 0x07, 0xc0, 0x3f, 0x01, 0xf1, 0xe0, 0x0f, 0x3e, 0x7f, 0xfe, 0x01, 0xf8, 0x07, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xcf, 0x8f, 0x8f, 0x1f, 0x3e, 0x3c, 0x7c, 0xff, 0xc6, 0x3f, 0x3d, 0xf1, 0xfc, 0x7f, 0x9c, 0x7f, 0xfe, 0x30, 0xf8, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xcf, 0x8f, 0x87, 0x1f, 0x3f, 0x3c, 0xfc, 0xff, 0xc7, 0x3f, 0x3f, 0xf1, 0xfc, 0x7f, 0x8c, 0xff, 0xfc, 0x7c, 0xf8, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xcf, 0x8f, 0x83, 0x1f, 0x3f, 0x38, 0xfc, 0xff, 0xc7, 0x3f, 0x3f, 0xf1, 0xfc, 0x7f, 0xc8, 0xff, 0xfc, 0xfc, 0xf8, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xcf, 0x8f, 0x93, 0x1f, 0x3f, 0x19, 0xfc, 0x0f, 0xc7, 0x3f, 0x0f, 0xf1, 0xfc, 0x7f, 0xc1, 0xff, 0xfc, 0xfc, 0xf8, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xcf, 0x8f, 0x91, 0x1f, 0x3f, 0x99, 0xfc, 0x0f, 0xc0, 0x3f, 0x83, 0xf1, 0xfc, 0x7f, 0xe3, 0xff, 0xfc, 0xfc, 0xf8, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xcf, 0x8f, 0x98, 0x1f, 0x3f, 0x91, 0xfc, 0xff, 0xc4, 0x7f, 0xf1, 0xf1, 0xfc, 0x7f, 0xe3, 0xff, 0xfc, 0xfc, 0xf8, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xcf, 0x8f, 0x9c, 0x1f, 0x3f, 0x83, 0xfc, 0xff, 0xc4, 0x7f, 0xf8, 0xf1, 0xfc, 0x7f, 0xf3, 0xff, 0xfc, 0xfc, 0xf8, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xc7, 0x9f, 0x9e, 0x1f, 0x3f, 0xc3, 0xfc, 0xff, 0xc6, 0x3f, 0xf8, 0xf1, 0xfc, 0x7f, 0xf3, 0xff, 0xfc, 0x78, 0xf8, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe7, 0x1f, 0x9e, 0x1f, 0x3f, 0xc3, 0xfc, 0xff, 0xc7, 0x3e, 0x79, 0xf1, 0xfc, 0x7f, 0xf3, 0xff, 0xfc, 0x30, 0xf8, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x3f, 0x9f, 0x1f, 0x3f, 0xc7, 0xfc, 0x03, 0xc7, 0x1e, 0x01, 0xf1, 0xfc, 0xff, 0xf3, 0xff, 0xfe, 0x01, 0xf8, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf8, 0x7f, 0x9f, 0xbf, 0x3f, 0xe7, 0xfc, 0x07, 0xef, 0x9f, 0x87, 0xfb, 0xfe, 0xff, 0xf7, 0xff, 0xff, 0x87, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf7, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf7, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf8, 0xff, 0x01, 0xf8, 0x0f, 0xcf, 0xfc, 0xf8, 0x07, 0xc0, 0x3f, 0xff, 0xc0, 0xfe, 0x03, 0xe7, 0xc0, 0x3e, 0x3e, 0x7f, 0x01, 0xf0, 0x1f, 0xc0, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf8, 0xff, 0x00, 0xf8, 0x07, 0xcf, 0xfc, 0xf8, 0x07, 0xc0, 0x1f, 0xff, 0x88, 0xfc, 0x03, 0xe7, 0xc0, 0x3e, 0x3e, 0x7e, 0x03, 0xf0, 0x1f, 0x88, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf0, 0x7f, 0x3c, 0xf9, 0xe7, 0xcf, 0xfc, 0xf8, 0xff, 0xc7, 0x1f, 0xff, 0x9f, 0xfc, 0xff, 0xe7, 0xc7, 0xfe, 0x1e, 0x7c, 0x7f, 0xf3, 0xff, 0x9f, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf0, 0x7f, 0x3c, 0xf9, 0xe7, 0xcf, 0xfc, 0xf8, 0xff, 0xc7, 0x9f, 0xff, 0x9f, 0xf8, 0xff, 0xe7, 0xc7, 0xfe, 0x0e, 0x7c, 0xff, 0xf3, 0xff, 0x1f, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf2, 0x7f, 0x3c, 0xf9, 0xe7, 0xcf, 0xfc, 0xf8, 0x1f, 0xc7, 0x8f, 0xff, 0x8f, 0xf9, 0xff, 0xe7, 0xc0, 0xfe, 0x0e, 0x7c, 0xff, 0xf0, 0x3f, 0x8f, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe2, 0x3f, 0x38, 0xf9, 0xc7, 0xcf, 0xfc, 0xf8, 0x0f, 0xc7, 0x8f, 0xff, 0xc1, 0xf9, 0xff, 0xe7, 0xc0, 0x7e, 0x46, 0x7c, 0xff, 0xf0, 0x3f, 0xc1, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe6, 0x3f, 0x21, 0xf9, 0x0f, 0xcf, 0xfc, 0xf8, 0x0f, 0xc7, 0x8f, 0xff, 0xf0, 0xf9, 0xff, 0xe7, 0xc0, 0x7e, 0x62, 0x7c, 0xff, 0xf0, 0x3f, 0xf0, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xe0, 0x3f, 0x27, 0xf9, 0x3f, 0xcf, 0xfc, 0xf8, 0xff, 0xc7, 0x8f, 0xff, 0xfc, 0x79, 0xff, 0xe7, 0xc7, 0xfe, 0x70, 0x7c, 0xff, 0xf3, 0xff, 0xfc, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xc0, 0x1f, 0x3f, 0xf9, 0xff, 0xcf, 0xfc, 0xf8, 0xff, 0xc7, 0x9f, 0xff, 0xfe, 0x78, 0xff, 0xe7, 0xc7, 0xfe, 0x78, 0x7c, 0xff, 0xf3, 0xff, 0xfc, 0x7f,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xcf, 0x9f, 0x3f, 0xf9, 0xff, 0xcf, 0xfc, 0xf8, 0xff, 0xc7, 0x1f, 0xff, 0xfc, 0x7c, 0xfb, 0xe7, 0xc7, 0xfe, 0x78, 0x7c, 0x7b, 0xf3, 0xff, 0x7c, 0x7f,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x8f, 0x9f, 0x3f, 0xf9, 0xff, 0xc0, 0x7c, 0xf8, 0x07, 0xc0, 0x3f, 0xff, 0x00, 0xfc, 0x03, 0xe7, 0xc0, 0x3e, 0x7c, 0x7e, 0x01, 0xf0, 0x0f, 0x00, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x9f, 0x8f, 0x3f, 0xf9, 0xff, 0xc0, 0x7c, 0xfc, 0x03, 0xc0, 0x7f, 0xff, 0x81, 0xfe, 0x07, 0xe7, 0xc0, 0x1e, 0x7e, 0x7f, 0x03, 0xf0, 0x0f, 0x81, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
};

/* Bitmap of the THUAS logo 160x48, inverted */
/* Created from: https://littlevgl.com/image-to-c-array */
#ifdef __GNUC__
/* Keep the compiler from complaining if not used */
static const __attribute__((used)) uint8_t glcd_hhs_small_map[] = {
#else
static const uint8_t glcd_hhs_small_map[] = {
#endif
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xf0, 0x1e, 0x7b, 0xe0, 0x7f, 0xe1, 0xf8, 0x7f, 0xe1, 0xff, 0xf8, 0x0f, 0xf8, 0x7e, 0x1f, 0xc0, 0x07, 0xff, 0xff, 0xff,
	0xf0, 0x1e, 0x71, 0xe0, 0x3f, 0xe1, 0xf8, 0x7f, 0xe1, 0xff, 0xf0, 0x03, 0xf8, 0x7e, 0x1f, 0x80, 0x07, 0xff, 0xff, 0xff,
	0xfc, 0x7e, 0x71, 0xe7, 0xff, 0xe1, 0xf8, 0x7f, 0xc3, 0xff, 0xc0, 0x03, 0xf8, 0x7e, 0x1f, 0x80, 0x07, 0xff, 0xff, 0xff,
	0xfc, 0x7e, 0x71, 0xe7, 0xff, 0xe1, 0xf8, 0x7f, 0xc3, 0xff, 0xc1, 0xe7, 0xf8, 0x7e, 0x1f, 0x83, 0xff, 0xff, 0xff, 0xff,
	0xfc, 0x7e, 0x01, 0xe0, 0x7f, 0xe1, 0xf8, 0x7f, 0xc2, 0x7f, 0x83, 0xff, 0xf8, 0x7e, 0x1f, 0x83, 0xff, 0xff, 0xff, 0xff,
	0xfc, 0x7e, 0x01, 0xe0, 0x7f, 0xe1, 0xf8, 0x7f, 0x86, 0x7f, 0x87, 0xff, 0xf8, 0x7e, 0x1f, 0x83, 0xff, 0xff, 0xff, 0xff,
	0xfc, 0x7e, 0x71, 0xe7, 0xff, 0xe1, 0xf8, 0x7f, 0x86, 0x7f, 0x87, 0xff, 0xf8, 0x7e, 0x1f, 0x83, 0xff, 0xff, 0xff, 0xff,
	0xfc, 0x7e, 0x71, 0xe7, 0xff, 0xe0, 0x00, 0x7f, 0x04, 0x3f, 0x87, 0xff, 0xf8, 0x7e, 0x1f, 0x80, 0x0f, 0xff, 0xff, 0xff,
	0xfc, 0x7e, 0x71, 0xe0, 0x3f, 0xe0, 0x00, 0x7f, 0x0c, 0x3f, 0x86, 0x00, 0xf8, 0x7e, 0x1f, 0x80, 0x0f, 0xff, 0xff, 0xff,
	0xfc, 0x7e, 0x71, 0xe0, 0x3f, 0xe0, 0x00, 0x7f, 0x0c, 0x3f, 0x86, 0x00, 0xf8, 0x7e, 0x1f, 0x80, 0x0f, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xe1, 0xf8, 0x7e, 0x1e, 0x1f, 0x86, 0x00, 0xf8, 0x7e, 0x1f, 0x83, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xe1, 0xf8, 0x7e, 0x18, 0x1f, 0x87, 0xe0, 0xf8, 0x7e, 0x1f, 0x83, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xe1, 0xf8, 0x7c, 0x18, 0x0f, 0x87, 0xe0, 0xf8, 0x7e, 0x1f, 0x83, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xe1, 0xf8, 0x7c, 0x30, 0x0f, 0x83, 0xe0, 0xf8, 0x3c, 0x1f, 0x83, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xe1, 0xf8, 0x7c, 0x3f, 0x0f, 0xc0, 0xc1, 0xfc, 0x00, 0x3f, 0x80, 0x07, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xe1, 0xf8, 0x78, 0x3f, 0x07, 0xc0, 0x01, 0xfc, 0x00, 0x3f, 0x80, 0x03, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xe1, 0xf8, 0x78, 0x7f, 0x87, 0xe0, 0x07, 0xfe, 0x00, 0xff, 0x80, 0x03, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x1f, 0xff, 0xc3, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xff, 0xff, 0xff, 0xbf, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xb3, 0x76, 0x6e, 0x18, 0x70, 0xdc, 0x36, 0x7e, 0x0e, 0x3f, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xb1, 0x77, 0x6e, 0xfb, 0x77, 0xde, 0xfa, 0xfe, 0xee, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xb1, 0x77, 0x0e, 0x3a, 0x71, 0xde, 0xf9, 0xfe, 0xee, 0x3f, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0xb2, 0x77, 0x1e, 0xfa, 0xfc, 0xde, 0xfd, 0xfe, 0xee, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf9, 0x32, 0x77, 0x9e, 0xfb, 0x7c, 0xde, 0xfd, 0xfe, 0x4e, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x7f, 0x77, 0x9e, 0x1b, 0x71, 0xde, 0xfd, 0xff, 0x1e, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0xf0, 0xc3, 0xbe, 0xe1, 0x87, 0xf8, 0xe1, 0x98, 0x76, 0x71, 0xc3, 0x8f,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0xf6, 0xc9, 0xbe, 0xef, 0xb3, 0xf3, 0xef, 0x9b, 0xf2, 0x6f, 0xdf, 0x7f,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfc, 0x76, 0xc9, 0xbe, 0xe3, 0xb3, 0xf9, 0xef, 0x98, 0x72, 0x6f, 0xc7, 0x9f,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf8, 0x71, 0xc3, 0xbe, 0xef, 0xb3, 0xfc, 0xcf, 0x99, 0xf4, 0x6f, 0xdf, 0xcf,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf8, 0x37, 0xcf, 0xbe, 0xef, 0xb3, 0xfe, 0xef, 0x9b, 0xf4, 0x6f, 0xdf, 0xef,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfb, 0x37, 0xcf, 0x86, 0xe1, 0x87, 0xf0, 0xe1, 0x98, 0x76, 0x71, 0xc3, 0x0f,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
	0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
};


/* Variable prems -- prescaler ms
 *          preus -- prescaler us
 *          100ns -- #loops for 100 ns
 * @private
 */
static uint32_t prems;
static uint32_t preus;
static uint32_t ns100;


/*
 * Delay routines needed for 8080 8/16/18 bit parallel interfaces
 */

/* Function lcd_delay_init
 * Initializes the delay routine
 * @private
 * @in: void
 * @out: void
 */
static void glcd_delay_init(void) {
	SystemCoreClockUpdate();
	prems = SystemCoreClock/3000UL+1UL;
	preus = SystemCoreClock/3000000UL+1UL;
	ns100 = SystemCoreClock/60000000UL+1UL;
}

/* Function glcd_delay_us
 * Creates a delay for the GLCD functions
 * @private
 * @in: delay --> delay in millisecs
 * @out: void
 */
void glcd_delay_ms(uint32_t delay) {

	uint32_t ms = prems*delay;

	asm volatile ("mov r3, %[ms] \n\t"
				  ".Lglcd%=: \n\t"
				  "subs r3, #1 \n\t"
				  "bne .Lglcd%= \n\t"
                  :
                  : [ms] "r" (ms)
                  : "r3", "cc"
				 );
}

/* Function glcd_delay_us
 * Creates a delay for the GLCD functions
 * @private
 * @in: delay --> delay in microsecs
 * @out: void
 */
static void glcd_delay_us(uint32_t delay) {

	uint32_t us = preus*delay;

	asm volatile ("mov r3, %[us] \n\t"
				  ".Lglcdu%=: \n\t"
				  "subs r3, #1 \n\t"
				  "bne .Lglcdu%= \n\t"
                  :
                  : [us] "r" (us)
                  : "r3", "cc"
				 );
}

/* Function glcd_delay_halfus
 * Creates a 100 ns delay for the GLCD write functions
 * @private
 * @in: none
 * @out: void
 */
static void glcd_delay_halfus(void) {

	uint32_t us = ns100;

	asm volatile ("mov r3, %[us] \n\t"
				  ".Lglcdhu%=: \n\t"
				  "subs r3, #1 \n\t"
				  "bne .Lglcdhu%= \n\t"
                  :
                  : [us] "r" (us)
                  : "r3", "cc"
				 );
}


/*
 * ILI9341 low level interface routines
 */

static void glcd_reset(void) {
	  /* Set RST pin low (active) */
	  (GLCD_RST.pGPIO)->BSRR = (1<<(GLCD_RST.pin+16));

	  /* Wait a bit */
	  glcd_delay_ms(150);

	  /* Set RST pin high */
	  (GLCD_RST.pGPIO)->BSRR = (1<<(GLCD_RST.pin));

	  /* Wait a bit */
	  glcd_delay_ms(150);
	  /* Just small delay to keep the compiler from complaining */
	  glcd_delay_us(1);
}

static void glcd_init_pins(void) {

	/* Enable IO port A, B, C Clocks */
	/* Should be done by a routine thats reads the GPIOs from all the PortBit variables and makes an OR mask*/
	RCC->AHB1ENR &= ~GLCD_GPIO_USED;
	RCC->AHB1ENR |= GLCD_GPIO_USED;

	/* LCD_RST pin is output */
	(GLCD_RST.pGPIO)->MODER &= ~(3<<(GLCD_RST.pin<<1));
	(GLCD_RST.pGPIO)->MODER |= (1<<(GLCD_RST.pin<<1));
	/* Set RST pin high */
	(GLCD_RST.pGPIO)->BSRR = (1<<(GLCD_RST.pin));

	/* LCD_CS (Chip Select) pin is output */
	(GLCD_CS.pGPIO)->MODER &= ~(3<<(GLCD_CS.pin<<1));
	(GLCD_CS.pGPIO)->MODER |= (1<<(GLCD_CS.pin<<1));
	/* Set CS (Chip Select) pin high (disable) */
	(GLCD_CS.pGPIO)->BSRR = (1<<(GLCD_CS.pin));

	/* LCD_RS (= Data(1)/Command(0)) pin is output */
	(GLCD_RS.pGPIO)->MODER &= ~(3<<(GLCD_RS.pin<<1));
	(GLCD_RS.pGPIO)->MODER |= (1<<(GLCD_RS.pin<<1));
	/* Set RS (= Data/Command) pin low (command) */
	(GLCD_RS.pGPIO)->BSRR = (1<<(GLCD_RS.pin+16));

	/* LCD_RD pin is output */
	(GLCD_RD.pGPIO)->MODER &= ~(3<<(GLCD_RD.pin<<1));
	(GLCD_RD.pGPIO)->MODER |= (1<<(GLCD_RD.pin<<1));
	/* Set RD pin high */
	(GLCD_RD.pGPIO)->BSRR = (1<<(GLCD_RD.pin));

	/* LCD_WR pin is output */
	(GLCD_WR.pGPIO)->MODER &= ~(3<<(GLCD_WR.pin<<1));
	(GLCD_WR.pGPIO)->MODER |= (1<<(GLCD_WR.pin<<1));
	/* Set WR pin high */
	(GLCD_WR.pGPIO)->BSRR = (1<<(GLCD_WR.pin));
}

void glcd_write_command(uint16_t cmd, glcd_cs_t what, glcd_dir_t dir) {
	uint16_t i;

	/* Populate data bits */
	for (i=0; i<8; i++) {
		if (cmd & (1<<i)) {
			(GLCD_D[i].pGPIO)->BSRR = (1<<(GLCD_D[i].pin));
		} else {
			(GLCD_D[i].pGPIO)->BSRR = (1<<(GLCD_D[i].pin+16));
		}
	}
	/* Data pins output */
	for (i=0; i<8; i++) {
		(GLCD_D[i].pGPIO)->MODER &= ~(3<<(GLCD_D[i].pin<<1));
		(GLCD_D[i].pGPIO)->MODER |= (1<<(GLCD_D[i].pin<<1));
	}
	/* Command select */
	(GLCD_RS.pGPIO)->BSRR = (1<<(GLCD_RS.pin+16));
	/* Chip Select enable */
	if (what == LCD_CS_KEEP_LOW || what == LCD_CS_TOGGLE) {
		(GLCD_CS.pGPIO)->BSRR = (1<<(GLCD_CS.pin+16));
	}

	/* Write pulse */
	/* Write enable */
	(GLCD_WR.pGPIO)->BSRR = (1<<(GLCD_WR.pin+16));
	/* Wait */
	glcd_delay_halfus();
	/* Write disable */
	(GLCD_WR.pGPIO)->BSRR = (1<<(GLCD_WR.pin));

	/* Chip Select disable */
	if (what == LCD_CS_TO_HIGH || what == LCD_CS_TOGGLE) {
		(GLCD_CS.pGPIO)->BSRR = (1<<(GLCD_CS.pin));
	}
	/* Wait */

	if (dir == LCD_MAKE_DATA_INPUT) {
		/* Data pins input */
		for (i=0; i<8; i++) {
			(GLCD_D[i].pGPIO)->MODER &= ~(3<<(GLCD_D[i].pin<<1));
		}
	}
}

void glcd_read_terminate(uint16_t cmd, uint16_t amount, uint16_t data[]) {
	uint16_t i, j, effe, temp;

	glcd_write_command(cmd, LCD_CS_KEEP_LOW, LCD_MAKE_DATA_INPUT);

	/* Data select */
	(GLCD_RS.pGPIO)->BSRR = (1<<(GLCD_RS.pin));

	for (j=0; j<amount; j++) {
		/* Read enable */
		/* Due to the nature of the read, a delay is not needed */
		(GLCD_RD.pGPIO)->BSRR = (1<<(GLCD_RD.pin+16));
		effe=0;
		for (i=0; i<8; i++) {
			temp = (GLCD_D[i]).pGPIO->IDR & (1<<GLCD_D[i].pin);
			effe = effe | (temp ? (1<<i) : 0);
		}
		data[j] = effe;
		/* Read disable*/
		(GLCD_RD.pGPIO)->BSRR = (1<<(GLCD_RD.pin));
	}

	/* Terminate read from GLCD */
	glcd_write_command(0x00, LCD_CS_TO_HIGH, LCD_KEEP_DATA_OUTPUT);
}

void glcd_write(uint16_t cmd, uint16_t amount, const uint16_t data[]) {
	uint16_t i, j;

	/* Write the command, keep CS low and keep data pins as output */
	glcd_write_command(cmd, LCD_CS_KEEP_LOW, LCD_KEEP_DATA_OUTPUT);
	/* Data select */
	(GLCD_RS.pGPIO)->BSRR = (1<<(GLCD_RS.pin));

	for (j=0; j<amount; j++) {
		for (i=0; i<8; i++) {
			if (data[j] & (1<<i)) {
				(GLCD_D[i].pGPIO)->BSRR = (1<<(GLCD_D[i].pin));
			} else {
				(GLCD_D[i].pGPIO)->BSRR = (1<<(GLCD_D[i].pin+16));
			}
		}
		/* Write enable */
		(GLCD_WR.pGPIO)->BSRR = (1<<(GLCD_WR.pin+16));
		glcd_delay_halfus();
		/* Write disable*/
		(GLCD_WR.pGPIO)->BSRR = (1<<(GLCD_WR.pin));
	}
	/* Note: glcd_write does not terminate the transfer */
}

void glcd_terminate_write(void) {
	/* Terminate write to GLCD */
	glcd_write_command(0x00, LCD_CS_TO_HIGH, LCD_KEEP_DATA_OUTPUT);
}

void glcd_init(void) {
	uint16_t init_table_size = sizeof(ILI9341_regValues_stm32) / sizeof(ILI9341_regValues_stm32[0]);
	uint16_t i;

	/* Initialize the delay routines */
	glcd_delay_init();

	/* Wait a bit for GLCD to fire up */
	glcd_delay_ms(150);

	/* Hard reset the GLCD */
	glcd_reset();
	/* Initialize control pins, not the data pins, because the can be used for input or output */
	glcd_init_pins();

	/* Setup the GLCD */
	i=0;
	while (i < init_table_size) {
		if (ILI9341_regValues_stm32[i] == GLCD_DELAY) {
			glcd_delay_ms(ILI9341_regValues_stm32[i+1]);
			i=i+2;
		} else {
			/*         command                     length                        start point */
			glcd_write(ILI9341_regValues_stm32[i], ILI9341_regValues_stm32[i+1], &ILI9341_regValues_stm32[i+2]);
			i = i+ILI9341_regValues_stm32[i+1]+2;
		}
	}
}


/*
 * High level interface routines
 */

void glcd_cls(uint32_t color) {
	register uint16_t i;
	register uint16_t red = (color>>16)&0xff;
	register uint16_t green = (color>>8)&0xff;
	register uint16_t blue = (color>>0)&0xff;

	//0x2A, reset x position to full width
	glcd_data[0] = 0x00;
	glcd_data[1] = 0x00;
	glcd_data[2] = 0x01;
	glcd_data[3] = 0x3f;
	glcd_write(0x2a, 4, glcd_data);

	//0x2B, reset y position to full height
	glcd_data[2] = 0x00;
	glcd_data[3] = 0xef;
	glcd_write(0x2b, 4, glcd_data);


	/* Populate array */
	for (i=0; i<3*320; i=i+3) {
		glcd_data[i]   = red;
		glcd_data[i+1] = green;
		glcd_data[i+2] = blue;
	}

	/* Write to screen */
	glcd_write(0x2c, 3*320, glcd_data);
	for (i=0; i<239; i++) {
		glcd_write(0x3c, 3*320, glcd_data);
	}
}

void glcd_plotpixel(uint16_t x, uint16_t y, uint32_t color) {
	//0x2A, x position
	glcd_data[0] = x>>8;
	glcd_data[1] = x&0xff;
	glcd_data[2] = 0x01;
	glcd_data[3] = 0x3f;
	glcd_write(0x2a, 4, glcd_data);

	//0x2B, y position
	glcd_data[0] = 0x00;
	glcd_data[1] = y&0xff;
	glcd_data[2] = 0x00;
	glcd_data[3] = 0xef;
	glcd_write(0x2b, 4, glcd_data);

	/* Plot pixel */
	glcd_data[0] = (color>>16)&0xff;
	glcd_data[1] = (color>>8)&0xff;
	glcd_data[2] = (color>>0)&0xff;
	glcd_write(0x2c, 3, glcd_data);
}

uint32_t glcd_readpixel(uint16_t x, uint16_t y) {
	//0x2A, x position
	glcd_data[0] = x>>8;
	glcd_data[1] = x&0xff;
	glcd_data[2] = 0x01;
	glcd_data[3] = 0x3f;
	glcd_write(0x2a, 4, glcd_data);

	//0x2B, y position
	glcd_data[0] = 0x00;
	glcd_data[1] = y&0xff;
	glcd_data[2] = 0x00;
	glcd_data[3] = 0xef;
	glcd_write(0x2b, 4, glcd_data);

	/* Read pixel */
	glcd_read_terminate(0x2e, 4, glcd_data);
	return (glcd_data[1]<<16) + (glcd_data[2]<<8) + glcd_data[3];
}

void glcd_plothorizontalline(uint16_t x, uint16_t y, uint16_t w, uint32_t color) {
	uint16_t i;

	//0x2A, x position
	glcd_data[0] = x>>8;
	glcd_data[1] = x&0xff;
	glcd_data[2] = 0x01;
	glcd_data[3] = 0x3f;
	glcd_write(0x2a, 4, glcd_data);

	//0x2B, y position
	glcd_data[0] = 0x00;
	glcd_data[1] = y&0xff;
	glcd_data[2] = 0x00;
	glcd_data[3] = 0xef;
	glcd_write(0x2b, 4, glcd_data);

	if (x+w>320) {
		w=320-x;
	}
	/* Create color */
	for (i=0; i<3*w; i=i+3) {
		glcd_data[i] = (color>>16)&0xff;
		glcd_data[i+1] = (color>>8)&0xff;
		glcd_data[i+2] = (color>>0)&0xff;
	}
	glcd_write(0x2c, 3*w, glcd_data);
}

void glcd_plotverticalline(uint16_t x, uint16_t y, uint16_t h, uint32_t color) {
	uint16_t i;

	//0x2A, x position
	// Make x position one pixel wide, so it will print vertical
	glcd_data[0] = x>>8;
	glcd_data[1] = x&0xff;
	glcd_data[2] = x>>8;
	glcd_data[3] = x&0xff;
	glcd_write(0x2a, 4, glcd_data);

	//0x2B, y position
	glcd_data[0] = 0x00;
	glcd_data[1] = y&0xff;
	glcd_data[2] = 0x00;
	glcd_data[3] = 0xef;
	glcd_write(0x2b, 4, glcd_data);

	if (y+h>240) {
		h=240-y;
	}
	/* Create color */
	for (i=0; i<3*h; i=i+3) {
		glcd_data[i] = (color>>16)&0xff;
		glcd_data[i+1] = (color>>8)&0xff;
		glcd_data[i+2] = (color>>0)&0xff;
	}
	glcd_write(0x2c, 3*h, glcd_data);
}

/* Adapted from the AdaFruit library */
void glcd_plotchar(uint16_t x, uint16_t y, uint8_t c, uint32_t color, uint32_t bg) {
	register uint8_t line;
	register uint16_t i, j;

	if ((x >= 320) ||           // Clip right
		(y >= 240))             // Clip bottom
	return;

	for (i = 0; i < 5; i++) { // Char bitmap = 5 columns
		line = glcd_font[c * 5 + i];
		for (j = 0; j < 8; j++, line >>= 1) {
			if (line & 1) {
				glcd_plotpixel(x + i, y + j, color);
			} else if (bg != color) {
				glcd_plotpixel(x + i, y + j, bg);
			}
		}
	}
}

/* Plots a string to the screen */
void glcd_plotstring(uint16_t x, uint16_t y, char str[], uint32_t color, uint32_t bg, glcd_spacing_t spacing) {
	register uint32_t i;

	for (i=0; str[i] != '\0'; i++) {
		glcd_plotchar(x, y, (uint8_t) str[i], color, bg);
		x += 4;
		switch (spacing) {
			case GLCD_STRING_WIDE:		x++;
								if (bg != color) {
									glcd_plotverticalline(x, y, 8, bg);
								}
			case GLCD_STRING_NORMAL: 	x++;
								if (bg != color) {
									glcd_plotverticalline(x, y, 8, bg);
								}
			case GLCD_STRING_CONDENSED:
			default: x++;
		}
	}
}

void glcd_plotrectfill(uint16_t x, uint16_t y, uint16_t w, uint16_t h, uint32_t color) {
	while (h>0) {
		glcd_plothorizontalline(x, y, w, color);
		h--;
		y++;
	}
}

void glcd_plotrect(uint16_t x, uint16_t y, uint16_t w, uint16_t h, uint32_t color) {
	glcd_plothorizontalline(x, y, w, color);
	glcd_plothorizontalline(x, y + h - 1, w, color);
	glcd_plotverticalline(x, y, h, color);
	glcd_plotverticalline(x + w - 1, y, h, color);
}

void glcd_plotpixel_check(uint16_t x, uint16_t y, uint32_t color) {

	if (x>319) {
		return;
	}
	if (y>239) {
		return;
	}

	//0x2A, x position
	glcd_data[0] = x>>8;
	glcd_data[1] = x&0xff;
	glcd_data[2] = 0x01;
	glcd_data[3] = 0x3f;
	glcd_write(0x2a, 4, glcd_data);

	//0x2B, y position
	glcd_data[0] = 0x00;
	glcd_data[1] = y&0xff;
	glcd_data[2] = 0x00;
	glcd_data[3] = 0xef;
	glcd_write(0x2b, 4, glcd_data);

	/* Plot pixel */
	glcd_data[0] = (color>>16)&0xff;
	glcd_data[1] = (color>>8)&0xff;
	glcd_data[2] = (color>>0)&0xff;
	glcd_write(0x2c, 3, glcd_data);
}

/* Adapted from the AdaFruit library */
void glcd_plotcircle(uint16_t x0, uint16_t y0, uint16_t r, uint32_t color) {
	int16_t f = 1 - r;
	int16_t ddF_x = 1;
	int16_t ddF_y = -2 * r;
	int16_t x = 0;
	int16_t y = r;

	glcd_plotpixel_check(x0, y0 + r, color);
	glcd_plotpixel_check(x0, y0 - r, color);
	glcd_plotpixel_check(x0 + r, y0, color);
	glcd_plotpixel_check(x0 - r, y0, color);

	while (x < y) {
		if (f >= 0) {
		  y--;
		  ddF_y += 2;
		  f += ddF_y;
		}
		x++;
		ddF_x += 2;
		f += ddF_x;

		glcd_plotpixel_check(x0 + x, y0 + y, color);
		glcd_plotpixel_check(x0 - x, y0 + y, color);
		glcd_plotpixel_check(x0 + x, y0 - y, color);
		glcd_plotpixel_check(x0 - x, y0 - y, color);
		glcd_plotpixel_check(x0 + y, y0 + x, color);
		glcd_plotpixel_check(x0 - y, y0 + x, color);
		glcd_plotpixel_check(x0 + y, y0 - x, color);
		glcd_plotpixel_check(x0 - y, y0 - x, color);
	}
}

/* Adapted from the AdaFruit library */
void glcd_plotline(uint16_t x0, uint16_t y0, uint16_t x1, uint16_t y1, uint32_t color) {
	int16_t steep = abs(y1 - y0) > abs(x1 - x0);

	if (steep) {
		glcd_swap_uint16_t(x0, y0);
		glcd_swap_uint16_t(x1, y1);
	}

	if (x0 > x1) {
		glcd_swap_uint16_t(x0, x1);
		glcd_swap_uint16_t(y0, y1);
	}

	int16_t dx, dy;
	dx = x1 - x0;
	dy = abs(y1 - y0);

	int16_t err = dx / 2;
	int16_t ystep;

	if (y0 < y1) {
		ystep = 1;
	} else {
		ystep = -1;
	}

	for (; x0 <= x1; x0++) {
		if (steep) {
			glcd_plotpixel(y0, x0, color);
		} else {
			glcd_plotpixel(x0, y0, color);
		}
		err -= dy;
		if (err < 0) {
			y0 += ystep;
			err += dx;
		}
	}
}

/* Based on the AdaFruit library */
/* This function plots a 2-color bitmap to the display */
void glcd_plotbitmap(uint16_t x, uint16_t y, const uint8_t bitmap[], uint16_t w, uint16_t h, uint32_t color, uint32_t bg) {

	uint16_t byteWidth = (w + 7) / 8;
	uint8_t byte = 0;

	uint8_t red = (color>>16)&0xff;
	uint8_t green = (color>>8)&0xff;
	uint8_t blue = (color>>0)&0xff;
	uint8_t bred = (bg>>16)&0xff;
	uint8_t bgreen = (bg>>8)&0xff;
	uint8_t bblue = (bg>>0)&0xff;

	/* Special treatment for embedded bitmap */
	if (bitmap == GLCD_THUAS_DEFAULT_BITMAP) {
		bitmap = glcd_hhs_map;
	}
	if (bitmap == GLCD_THUAS_DEFAULT_BITMAP_SMALL) {
		bitmap = glcd_hhs_small_map;
	}

	for (uint16_t j = 0; j < h; j++, y++) {
		// Set x position
		glcd_data[0] = x>>8;
		glcd_data[1] = x&0xff;
		glcd_data[2] = 0x01;
		glcd_data[3] = 0x3f;
		glcd_write(0x2a, 4, glcd_data);

		//Set y position
		glcd_data[0] = 0x00;
		glcd_data[1] = y&0xff;
		glcd_data[2] = 0x00;
		glcd_data[3] = 0xef;
		glcd_write(0x2b, 4, glcd_data);

		/* Process the image bits */
		for (uint16_t i = 0; i < w; i++) {
			if (i & 7) {
				byte <<= 1;
			} else {
				byte = bitmap[j * byteWidth + i / 8];
			}
			/* Populate array data */
			glcd_data[i*3] = (byte & 0x80) ? red : bred;
			glcd_data[i*3+1] = (byte & 0x80) ? green : bgreen;
			glcd_data[i*3+2] = (byte & 0x80) ? blue : bblue;
		}
		/* Write one row of data */
		glcd_write(0x2c, 3*w, glcd_data);
	}
}

void glcd_inversion(glcd_display_inversion_t what) {
	glcd_read_terminate((what==GLCD_DISPLAY_INVERSION_ON) ? 0x21 : 0x20, 0, glcd_data);
}

void glcd_idle(glcd_display_idle_t what) {
	glcd_read_terminate((what==GLCD_DISPLAY_IDLE_ON) ? 0x39 : 0x38, 0, glcd_data);
}

void glcd_display(glcd_display_t what) {
	glcd_read_terminate((what==GLCD_DISPLAY_ON) ? 0x29 : 0x28, 0, glcd_data);
}

/* Flood fill an object */
/* ONLY WORKS FOR SMALL AREAS */
/* Because of the recursive behavior of this routine, stack overflow is likely to occur */
/* Based on https://www.javatpoint.com/computer-graphics-flood-fill-algorithm */
//void glcd_floodfill(uint16_t x,uint16_t y, uint32_t fillColor, uint32_t defaultColor) {
//	uint32_t readcol;
//
//	if (x>=320 || y>=240) {
//		return;
//	}
//	readcol = glcd_readpixel(x,y);
//	if (readcol==(defaultColor&(~0x00030303))) {
//        //delay(1);
//        glcd_plotpixel(x,y,fillColor);
//        glcd_floodfill(x+1,y,fillColor,defaultColor);
//        glcd_floodfill(x-1,y,fillColor,defaultColor);
//        glcd_floodfill(x,y+1,fillColor,defaultColor);
//        glcd_floodfill(x,y-1,fillColor,defaultColor);
//	}
//}
